/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/company/profile/route";
exports.ids = ["app/api/company/profile/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcompany%2Fprofile%2Froute&page=%2Fapi%2Fcompany%2Fprofile%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcompany%2Fprofile%2Froute.ts&appDir=%2FUsers%2FDylan%2FDocuments%2Fai_coding%2Fpersonal-preview%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2FDylan%2FDocuments%2Fai_coding%2Fpersonal-preview&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcompany%2Fprofile%2Froute&page=%2Fapi%2Fcompany%2Fprofile%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcompany%2Fprofile%2Froute.ts&appDir=%2FUsers%2FDylan%2FDocuments%2Fai_coding%2Fpersonal-preview%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2FDylan%2FDocuments%2Fai_coding%2Fpersonal-preview&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_Dylan_Documents_ai_coding_personal_preview_src_app_api_company_profile_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/company/profile/route.ts */ \"(rsc)/./src/app/api/company/profile/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/company/profile/route\",\n        pathname: \"/api/company/profile\",\n        filename: \"route\",\n        bundlePath: \"app/api/company/profile/route\"\n    },\n    resolvedPagePath: \"/Users/Dylan/Documents/ai_coding/personal-preview/src/app/api/company/profile/route.ts\",\n    nextConfigOutput,\n    userland: _Users_Dylan_Documents_ai_coding_personal_preview_src_app_api_company_profile_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/company/profile/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjb21wYW55JTJGcHJvZmlsZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGY29tcGFueSUyRnByb2ZpbGUlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZjb21wYW55JTJGcHJvZmlsZSUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRkR5bGFuJTJGRG9jdW1lbnRzJTJGYWlfY29kaW5nJTJGcGVyc29uYWwtcHJldmlldyUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZEeWxhbiUyRkRvY3VtZW50cyUyRmFpX2NvZGluZyUyRnBlcnNvbmFsLXByZXZpZXcmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3NDO0FBQ25IO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZ3JlZW4tdGVjaC1wbGF0Zm9ybS8/YjQ4YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvRHlsYW4vRG9jdW1lbnRzL2FpX2NvZGluZy9wZXJzb25hbC1wcmV2aWV3L3NyYy9hcHAvYXBpL2NvbXBhbnkvcHJvZmlsZS9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvY29tcGFueS9wcm9maWxlL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvY29tcGFueS9wcm9maWxlXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9jb21wYW55L3Byb2ZpbGUvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvRHlsYW4vRG9jdW1lbnRzL2FpX2NvZGluZy9wZXJzb25hbC1wcmV2aWV3L3NyYy9hcHAvYXBpL2NvbXBhbnkvcHJvZmlsZS9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvY29tcGFueS9wcm9maWxlL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcompany%2Fprofile%2Froute&page=%2Fapi%2Fcompany%2Fprofile%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcompany%2Fprofile%2Froute.ts&appDir=%2FUsers%2FDylan%2FDocuments%2Fai_coding%2Fpersonal-preview%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2FDylan%2FDocuments%2Fai_coding%2Fpersonal-preview&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/company/profile/route.ts":
/*!**********************************************!*\
  !*** ./src/app/api/company/profile/route.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./src/lib/supabase.ts\");\n\n\nasync function POST(request) {\n    try {\n        // 获取认证token\n        const authHeader = request.headers.get(\"Authorization\");\n        let token = null;\n        if (authHeader?.startsWith(\"Bearer \")) {\n            token = authHeader.substring(7);\n        }\n        // 如果有token，使用token验证用户身份\n        let user = null;\n        if (token) {\n            const { data: { user: tokenUser }, error: tokenError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.auth.getUser(token);\n            if (!tokenError && tokenUser) {\n                user = tokenUser;\n            }\n        }\n        // 如果token验证失败，尝试从session获取\n        if (!user) {\n            const { data: { user: sessionUser }, error: sessionError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.auth.getUser();\n            if (!sessionError && sessionUser) {\n                user = sessionUser;\n            }\n        }\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"用户未登录\"\n            }, {\n                status: 401\n            });\n        }\n        const formData = await request.formData();\n        const requirement = formData.get(\"requirement\");\n        const companyName = formData.get(\"companyName\");\n        const country = formData.get(\"country\");\n        const province = formData.get(\"province\");\n        const economicZone = formData.get(\"economicZone\");\n        const logo = formData.get(\"logo\");\n        const companyType = formData.get(\"companyType\");\n        const address = formData.get(\"address\");\n        const industryCode = formData.get(\"industryCode\");\n        const annualOutput = formData.get(\"annualOutput\");\n        const contactPerson = formData.get(\"contactPerson\");\n        const contactPhone = formData.get(\"contactPhone\");\n        const contactEmail = formData.get(\"contactEmail\");\n        // 基本验证\n        if (!companyName || !country || !companyType || !contactPerson || !contactPhone || !contactEmail) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"请填写必填字段\"\n            }, {\n                status: 400\n            });\n        }\n        // 模拟处理logo文件上传\n        let logoUrl = null;\n        if (logo) {\n            // 这里应该上传到实际的文件存储服务\n            logoUrl = `https://example.com/logos/${Date.now()}-${logo.name}`;\n        }\n        // 查找对应的国家、省份、开发区ID\n        let countryId = null;\n        let provinceId = null;\n        let developmentZoneId = null;\n        // 获取国家ID\n        if (country) {\n            const { data: countryData } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"admin_countries\").select(\"id\").eq(\"code\", country).single();\n            countryId = countryData?.id;\n        }\n        // 获取省份ID\n        if (province) {\n            const { data: provinceData } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"admin_provinces\").select(\"id\").eq(\"code\", province).single();\n            provinceId = provinceData?.id;\n        }\n        // 获取开发区ID\n        if (economicZone && economicZone !== \"none\") {\n            const { data: zoneData } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"admin_development_zones\").select(\"id\").eq(\"code\", economicZone).single();\n            developmentZoneId = zoneData?.id;\n        }\n        // 保存企业信息到数据库\n        const insertData = {\n            user_id: user.id,\n            name_zh: companyName,\n            country_id: countryId,\n            province_id: provinceId,\n            development_zone_id: developmentZoneId,\n            company_type: companyType,\n            address: address || null,\n            industry_code: industryCode || null,\n            annual_output_value: annualOutput ? parseFloat(annualOutput) : null,\n            contact_person: contactPerson,\n            contact_phone: contactPhone,\n            contact_email: contactEmail,\n            logo_url: logoUrl,\n            is_active: true\n        };\n        const { data: companyData, error: insertError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"admin_companies\").insert(insertData).select(`\n        *,\n        country:admin_countries(*),\n        province:admin_provinces(*),\n        development_zone:admin_development_zones(*)\n      `).single();\n        if (insertError) {\n            console.error(\"保存企业信息失败:\", insertError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"保存企业信息失败: \" + insertError.message\n            }, {\n                status: 500\n            });\n        }\n        console.log(\"企业信息提交成功:\", companyData);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"企业信息提交成功\",\n            data: companyData\n        });\n    } catch (error) {\n        console.error(\"企业信息提交错误:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"服务器内部错误，请稍后重试\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function PUT(request) {\n    try {\n        // 获取认证token\n        const authHeader = request.headers.get(\"Authorization\");\n        let token = null;\n        if (authHeader?.startsWith(\"Bearer \")) {\n            token = authHeader.substring(7);\n        }\n        // 如果有token，使用token验证用户身份\n        let user = null;\n        if (token) {\n            const { data: { user: tokenUser }, error: tokenError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.auth.getUser(token);\n            if (!tokenError && tokenUser) {\n                user = tokenUser;\n            }\n        }\n        // 如果token验证失败，尝试从session获取\n        if (!user) {\n            const { data: { user: sessionUser }, error: sessionError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.auth.getUser();\n            if (!sessionError && sessionUser) {\n                user = sessionUser;\n            }\n        }\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"用户未登录\"\n            }, {\n                status: 401\n            });\n        }\n        const formData = await request.formData();\n        const companyName = formData.get(\"companyName\");\n        const country = formData.get(\"country\");\n        const province = formData.get(\"province\");\n        const economicZone = formData.get(\"economicZone\");\n        const logo = formData.get(\"logo\");\n        const companyType = formData.get(\"companyType\");\n        const address = formData.get(\"address\");\n        const industryCode = formData.get(\"industryCode\");\n        const annualOutput = formData.get(\"annualOutput\");\n        const contactPerson = formData.get(\"contactPerson\");\n        const contactPhone = formData.get(\"contactPhone\");\n        const contactEmail = formData.get(\"contactEmail\");\n        // 基本验证\n        if (!companyName || !country || !companyType || !contactPerson || !contactPhone || !contactEmail) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"请填写必填字段\"\n            }, {\n                status: 400\n            });\n        }\n        // 查找对应的国家、省份、开发区ID\n        let countryId = null;\n        let provinceId = null;\n        let developmentZoneId = null;\n        // 获取国家ID\n        if (country) {\n            const { data: countryData } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"admin_countries\").select(\"id\").eq(\"code\", country).single();\n            countryId = countryData?.id;\n        }\n        // 获取省份ID\n        if (province) {\n            const { data: provinceData } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"admin_provinces\").select(\"id\").eq(\"code\", province).single();\n            provinceId = provinceData?.id;\n        }\n        // 获取开发区ID\n        if (economicZone && economicZone !== \"none\") {\n            const { data: zoneData } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"admin_development_zones\").select(\"id\").eq(\"code\", economicZone).single();\n            developmentZoneId = zoneData?.id;\n        }\n        // 准备更新数据\n        const updateData = {\n            name_zh: companyName,\n            country_id: countryId,\n            province_id: provinceId,\n            development_zone_id: developmentZoneId,\n            company_type: companyType,\n            address: address || null,\n            industry_code: industryCode || null,\n            annual_output_value: annualOutput ? parseFloat(annualOutput) : null,\n            contact_person: contactPerson,\n            contact_phone: contactPhone,\n            contact_email: contactEmail\n        };\n        // 处理logo文件上传\n        if (logo && logo.size > 0) {\n            const logoUrl = `https://example.com/logos/${Date.now()}-${logo.name}`;\n            updateData.logo_url = logoUrl;\n        }\n        // 查找用户的企业信息\n        const { data: userCompany } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"admin_companies\").select(\"id\").eq(\"user_id\", user.id).eq(\"is_active\", true).single();\n        if (!userCompany) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"未找到可更新的企业信息\"\n            }, {\n                status: 404\n            });\n        }\n        const { data: companyData, error: updateError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"admin_companies\").update(updateData).eq(\"id\", userCompany.id).select(`\n        *,\n        country:admin_countries(*),\n        province:admin_provinces(*),\n        development_zone:admin_development_zones(*)\n      `).single();\n        if (updateError) {\n            console.error(\"更新企业信息失败:\", updateError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"更新企业信息失败: \" + updateError.message\n            }, {\n                status: 500\n            });\n        }\n        console.log(\"企业信息更新成功:\", companyData);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"企业信息更新成功\",\n            data: companyData\n        });\n    } catch (error) {\n        console.error(\"企业信息更新错误:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"服务器内部错误，请稍后重试\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET(request) {\n    try {\n        // 获取认证token\n        const authHeader = request.headers.get(\"Authorization\");\n        let token = null;\n        if (authHeader?.startsWith(\"Bearer \")) {\n            token = authHeader.substring(7);\n        }\n        // 如果有token，使用token验证用户身份\n        let user = null;\n        if (token) {\n            const { data: { user: tokenUser }, error: tokenError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.auth.getUser(token);\n            if (!tokenError && tokenUser) {\n                user = tokenUser;\n            }\n        }\n        // 如果token验证失败，尝试从session获取\n        if (!user) {\n            const { data: { user: sessionUser }, error: sessionError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.auth.getUser();\n            if (!sessionError && sessionUser) {\n                user = sessionUser;\n            }\n        }\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"用户未登录\"\n            }, {\n                status: 401\n            });\n        }\n        // 获取用户的企业信息\n        const { data: companyData, error: selectError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"admin_companies\").select(`\n        *,\n        country:admin_countries(*),\n        province:admin_provinces(*),\n        development_zone:admin_development_zones(*)\n      `).eq(\"user_id\", user.id).eq(\"is_active\", true).single();\n        if (selectError && selectError.code !== \"PGRST116\") {\n            console.error(\"获取企业信息失败:\", selectError);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"获取企业信息失败\"\n            }, {\n                status: 500\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: companyData || null\n        });\n    } catch (error) {\n        console.error(\"获取企业信息错误:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"服务器内部错误，请稍后重试\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9jb21wYW55L3Byb2ZpbGUvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBd0Q7QUFDZDtBQUVuQyxlQUFlRSxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YsWUFBWTtRQUNaLE1BQU1DLGFBQWFELFFBQVFFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDO1FBQ3ZDLElBQUlDLFFBQVE7UUFFWixJQUFJSCxZQUFZSSxXQUFXLFlBQVk7WUFDckNELFFBQVFILFdBQVdLLFNBQVMsQ0FBQztRQUMvQjtRQUVBLHlCQUF5QjtRQUN6QixJQUFJQyxPQUFPO1FBQ1gsSUFBSUgsT0FBTztZQUNULE1BQU0sRUFBRUksTUFBTSxFQUFFRCxNQUFNRSxTQUFTLEVBQUUsRUFBRUMsT0FBT0MsVUFBVSxFQUFFLEdBQUcsTUFBTWIsbURBQVFBLENBQUNjLElBQUksQ0FBQ0MsT0FBTyxDQUFDVDtZQUNyRixJQUFJLENBQUNPLGNBQWNGLFdBQVc7Z0JBQzVCRixPQUFPRTtZQUNUO1FBQ0Y7UUFFQSwyQkFBMkI7UUFDM0IsSUFBSSxDQUFDRixNQUFNO1lBQ1QsTUFBTSxFQUFFQyxNQUFNLEVBQUVELE1BQU1PLFdBQVcsRUFBRSxFQUFFSixPQUFPSyxZQUFZLEVBQUUsR0FBRyxNQUFNakIsbURBQVFBLENBQUNjLElBQUksQ0FBQ0MsT0FBTztZQUN4RixJQUFJLENBQUNFLGdCQUFnQkQsYUFBYTtnQkFDaENQLE9BQU9PO1lBQ1Q7UUFDRjtRQUVBLElBQUksQ0FBQ1AsTUFBTTtZQUNULE9BQU9WLHFEQUFZQSxDQUFDbUIsSUFBSSxDQUN0QjtnQkFBRU4sT0FBTztZQUFRLEdBQ2pCO2dCQUFFTyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxNQUFNQyxXQUFXLE1BQU1sQixRQUFRa0IsUUFBUTtRQUV2QyxNQUFNQyxjQUFjRCxTQUFTZixHQUFHLENBQUM7UUFDakMsTUFBTWlCLGNBQWNGLFNBQVNmLEdBQUcsQ0FBQztRQUNqQyxNQUFNa0IsVUFBVUgsU0FBU2Ys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UUFFQSxPQUFPcEIscURBQVlBLENBQUNtQixJQUFJLENBQUM7WUFDdkJvRCxTQUFTO1lBQ1Q1RCxNQUFNc0QsZUFBZTtRQUN2QjtJQUVGLEVBQUUsT0FBT3BELE9BQU87UUFDZHVELFFBQVF2RCxLQUFLLENBQUMsYUFBYUE7UUFDM0IsT0FBT2IscURBQVlBLENBQUNtQixJQUFJLENBQ3RCO1lBQUVOLE9BQU87UUFBZ0IsR0FDekI7WUFBRU8sUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ncmVlbi10ZWNoLXBsYXRmb3JtLy4vc3JjL2FwcC9hcGkvY29tcGFueS9wcm9maWxlL3JvdXRlLnRzPzE0MWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnQC9saWIvc3VwYWJhc2UnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIC8vIOiOt+WPluiupOivgXRva2VuXG4gICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ0F1dGhvcml6YXRpb24nKTtcbiAgICBsZXQgdG9rZW4gPSBudWxsO1xuICAgIFxuICAgIGlmIChhdXRoSGVhZGVyPy5zdGFydHNXaXRoKCdCZWFyZXIgJykpIHtcbiAgICAgIHRva2VuID0gYXV0aEhlYWRlci5zdWJzdHJpbmcoNyk7XG4gICAgfVxuXG4gICAgLy8g5aaC5p6c5pyJdG9rZW7vvIzkvb/nlKh0b2tlbumqjOivgeeUqOaIt+i6q+S7vVxuICAgIGxldCB1c2VyID0gbnVsbDtcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIGNvbnN0IHsgZGF0YTogeyB1c2VyOiB0b2tlblVzZXIgfSwgZXJyb3I6IHRva2VuRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcih0b2tlbik7XG4gICAgICBpZiAoIXRva2VuRXJyb3IgJiYgdG9rZW5Vc2VyKSB7XG4gICAgICAgIHVzZXIgPSB0b2tlblVzZXI7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIOWmguaenHRva2Vu6aqM6K+B5aSx6LSl77yM5bCd6K+V5LuOc2Vzc2lvbuiOt+WPllxuICAgIGlmICghdXNlcikge1xuICAgICAgY29uc3QgeyBkYXRhOiB7IHVzZXI6IHNlc3Npb25Vc2VyIH0sIGVycm9yOiBzZXNzaW9uRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuICAgICAgaWYgKCFzZXNzaW9uRXJyb3IgJiYgc2Vzc2lvblVzZXIpIHtcbiAgICAgICAgdXNlciA9IHNlc3Npb25Vc2VyO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ+eUqOaIt+acqueZu+W9lScgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGZvcm1EYXRhID0gYXdhaXQgcmVxdWVzdC5mb3JtRGF0YSgpO1xuICAgIFxuICAgIGNvbnN0IHJlcXVpcmVtZW50ID0gZm9ybURhdGEuZ2V0KCdyZXF1aXJlbWVudCcpIGFzIHN0cmluZztcbiAgICBjb25zdCBjb21wYW55TmFtZSA9IGZvcm1EYXRhLmdldCgnY29tcGFueU5hbWUnKSBhcyBzdHJpbmc7XG4gICAgY29uc3QgY291bnRyeSA9IGZvcm1EYXRhLmdldCgnY291bnRyeScpIGFzIHN0cmluZztcbiAgICBjb25zdCBwcm92aW5jZSA9IGZvcm1EYXRhLmdldCgncHJvdmluY2UnKSBhcyBzdHJpbmc7XG4gICAgY29uc3QgZWNvbm9taWNab25lID0gZm9ybURhdGEuZ2V0KCdlY29ub21pY1pvbmUnKSBhcyBzdHJpbmc7XG4gICAgY29uc3QgbG9nbyA9IGZvcm1EYXRhLmdldCgnbG9nbycpIGFzIEZpbGU7XG4gICAgY29uc3QgY29tcGFueVR5cGUgPSBmb3JtRGF0YS5nZXQoJ2NvbXBhbnlUeXBlJykgYXMgc3RyaW5nO1xuICAgIGNvbnN0IGFkZHJlc3MgPSBmb3JtRGF0YS5nZXQoJ2FkZHJlc3MnKSBhcyBzdHJpbmc7XG4gICAgY29uc3QgaW5kdXN0cnlDb2RlID0gZm9ybURhdGEuZ2V0KCdpbmR1c3RyeUNvZGUnKSBhcyBzdHJpbmc7XG4gICAgY29uc3QgYW5udWFsT3V0cHV0ID0gZm9ybURhdGEuZ2V0KCdhbm51YWxPdXRwdXQnKSBhcyBzdHJpbmc7XG4gICAgY29uc3QgY29udGFjdFBlcnNvbiA9IGZvcm1EYXRhLmdldCgnY29udGFjdFBlcnNvbicpIGFzIHN0cmluZztcbiAgICBjb25zdCBjb250YWN0UGhvbmUgPSBmb3JtRGF0YS5nZXQoJ2NvbnRhY3RQaG9uZScpIGFzIHN0cmluZztcbiAgICBjb25zdCBjb250YWN0RW1haWwgPSBmb3JtRGF0YS5nZXQoJ2NvbnRhY3RFbWFpbCcpIGFzIHN0cmluZztcblxuICAgIC8vIOWfuuacrOmqjOivgVxuICAgIGlmICghY29tcGFueU5hbWUgfHwgIWNvdW50cnkgfHwgIWNvbXBhbnlUeXBlIHx8ICFjb250YWN0UGVyc29uIHx8ICFjb250YWN0UGhvbmUgfHwgIWNvbnRhY3RFbWFpbCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAn6K+35aGr5YaZ5b+F5aGr5a2X5q61JyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8g5qih5ouf5aSE55CGbG9nb+aWh+S7tuS4iuS8oFxuICAgIGxldCBsb2dvVXJsID0gbnVsbDtcbiAgICBpZiAobG9nbykge1xuICAgICAgLy8g6L+Z6YeM5bqU6K+l5LiK5Lyg5Yiw5a6e6ZmF55qE5paH5Lu25a2Y5YKo5pyN5YqhXG4gICAgICBsb2dvVXJsID0gYGh0dHBzOi8vZXhhbXBsZS5jb20vbG9nb3MvJHtEYXRlLm5vdygpfS0ke2xvZ28ubmFtZX1gO1xuICAgIH1cblxuICAgIC8vIOafpeaJvuWvueW6lOeahOWbveWutuOAgeecgeS7veOAgeW8gOWPkeWMuklEXG4gICAgbGV0IGNvdW50cnlJZCA9IG51bGw7XG4gICAgbGV0IHByb3ZpbmNlSWQgPSBudWxsO1xuICAgIGxldCBkZXZlbG9wbWVudFpvbmVJZCA9IG51bGw7XG5cbiAgICAvLyDojrflj5blm73lrrZJRFxuICAgIGlmIChjb3VudHJ5KSB7XG4gICAgICBjb25zdCB7IGRhdGE6IGNvdW50cnlEYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnYWRtaW5fY291bnRyaWVzJylcbiAgICAgICAgLnNlbGVjdCgnaWQnKVxuICAgICAgICAuZXEoJ2NvZGUnLCBjb3VudHJ5KVxuICAgICAgICAuc2luZ2xlKCk7XG4gICAgICBjb3VudHJ5SWQgPSBjb3VudHJ5RGF0YT8uaWQ7XG4gICAgfVxuXG4gICAgLy8g6I635Y+W55yB5Lu9SURcbiAgICBpZiAocHJvdmluY2UpIHtcbiAgICAgIGNvbnN0IHsgZGF0YTogcHJvdmluY2VEYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnYWRtaW5fcHJvdmluY2VzJylcbiAgICAgICAgLnNlbGVjdCgnaWQnKVxuICAgICAgICAuZXEoJ2NvZGUnLCBwcm92aW5jZSlcbiAgICAgICAgLnNpbmdsZSgpO1xuICAgICAgcHJvdmluY2VJZCA9IHByb3ZpbmNlRGF0YT8uaWQ7XG4gICAgfVxuXG4gICAgLy8g6I635Y+W5byA5Y+R5Yy6SURcbiAgICBpZiAoZWNvbm9taWNab25lICYmIGVjb25vbWljWm9uZSAhPT0gJ25vbmUnKSB7XG4gICAgICBjb25zdCB7IGRhdGE6IHpvbmVEYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnYWRtaW5fZGV2ZWxvcG1lbnRfem9uZXMnKVxuICAgICAgICAuc2VsZWN0KCdpZCcpXG4gICAgICAgIC5lcSgnY29kZScsIGVjb25vbWljWm9uZSlcbiAgICAgICAgLnNpbmdsZSgpO1xuICAgICAgZGV2ZWxvcG1lbnRab25lSWQgPSB6b25lRGF0YT8uaWQ7XG4gICAgfVxuXG4gICAgLy8g5L+d5a2Y5LyB5Lia5L+h5oGv5Yiw5pWw5o2u5bqTXG4gICAgY29uc3QgaW5zZXJ0RGF0YSA9IHtcbiAgICAgIHVzZXJfaWQ6IHVzZXIuaWQsXG4gICAgICBuYW1lX3poOiBjb21wYW55TmFtZSxcbiAgICAgIGNvdW50cnlfaWQ6IGNvdW50cnlJZCxcbiAgICAgIHByb3ZpbmNlX2lkOiBwcm92aW5jZUlkLFxuICAgICAgZGV2ZWxvcG1lbnRfem9uZV9pZDogZGV2ZWxvcG1lbnRab25lSWQsXG4gICAgICBjb21wYW55X3R5cGU6IGNvbXBhbnlUeXBlLFxuICAgICAgYWRkcmVzczogYWRkcmVzcyB8fCBudWxsLFxuICAgICAgaW5kdXN0cnlfY29kZTogaW5kdXN0cnlDb2RlIHx8IG51bGwsXG4gICAgICBhbm51YWxfb3V0cHV0X3ZhbHVlOiBhbm51YWxPdXRwdXQgPyBwYXJzZUZsb2F0KGFubnVhbE91dHB1dCkgOiBudWxsLFxuICAgICAgY29udGFjdF9wZXJzb246IGNvbnRhY3RQZXJzb24sXG4gICAgICBjb250YWN0X3Bob25lOiBjb250YWN0UGhvbmUsXG4gICAgICBjb250YWN0X2VtYWlsOiBjb250YWN0RW1haWwsXG4gICAgICBsb2dvX3VybDogbG9nb1VybCxcbiAgICAgIGlzX2FjdGl2ZTogdHJ1ZVxuICAgIH07XG5cbiAgICBjb25zdCB7IGRhdGE6IGNvbXBhbnlEYXRhLCBlcnJvcjogaW5zZXJ0RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnYWRtaW5fY29tcGFuaWVzJylcbiAgICAgIC5pbnNlcnQoaW5zZXJ0RGF0YSlcbiAgICAgIC5zZWxlY3QoYFxuICAgICAgICAqLFxuICAgICAgICBjb3VudHJ5OmFkbWluX2NvdW50cmllcygqKSxcbiAgICAgICAgcHJvdmluY2U6YWRtaW5fcHJvdmluY2VzKCopLFxuICAgICAgICBkZXZlbG9wbWVudF96b25lOmFkbWluX2RldmVsb3BtZW50X3pvbmVzKCopXG4gICAgICBgKVxuICAgICAgLnNpbmdsZSgpO1xuXG4gICAgaWYgKGluc2VydEVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfkv53lrZjkvIHkuJrkv6Hmga/lpLHotKU6JywgaW5zZXJ0RXJyb3IpO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAn5L+d5a2Y5LyB5Lia5L+h5oGv5aSx6LSlOiAnICsgaW5zZXJ0RXJyb3IubWVzc2FnZSB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ+S8geS4muS/oeaBr+aPkOS6pOaIkOWKnzonLCBjb21wYW55RGF0YSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6ICfkvIHkuJrkv6Hmga/mj5DkuqTmiJDlip8nLFxuICAgICAgZGF0YTogY29tcGFueURhdGFcbiAgICB9KTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+S8geS4muS/oeaBr+aPkOS6pOmUmeivrzonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ+acjeWKoeWZqOWGhemDqOmUmeivr++8jOivt+eojeWQjumHjeivlScgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBVVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIC8vIOiOt+WPluiupOivgXRva2VuXG4gICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ0F1dGhvcml6YXRpb24nKTtcbiAgICBsZXQgdG9rZW4gPSBudWxsO1xuICAgIFxuICAgIGlmIChhdXRoSGVhZGVyPy5zdGFydHNXaXRoKCdCZWFyZXIgJykpIHtcbiAgICAgIHRva2VuID0gYXV0aEhlYWRlci5zdWJzdHJpbmcoNyk7XG4gICAgfVxuXG4gICAgLy8g5aaC5p6c5pyJdG9rZW7vvIzkvb/nlKh0b2tlbumqjOivgeeUqOaIt+i6q+S7vVxuICAgIGxldCB1c2VyID0gbnVsbDtcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIGNvbnN0IHsgZGF0YTogeyB1c2VyOiB0b2tlblVzZXIgfSwgZXJyb3I6IHRva2VuRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcih0b2tlbik7XG4gICAgICBpZiAoIXRva2VuRXJyb3IgJiYgdG9rZW5Vc2VyKSB7XG4gICAgICAgIHVzZXIgPSB0b2tlblVzZXI7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIOWmguaenHRva2Vu6aqM6K+B5aSx6LSl77yM5bCd6K+V5LuOc2Vzc2lvbuiOt+WPllxuICAgIGlmICghdXNlcikge1xuICAgICAgY29uc3QgeyBkYXRhOiB7IHVzZXI6IHNlc3Npb25Vc2VyIH0sIGVycm9yOiBzZXNzaW9uRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuICAgICAgaWYgKCFzZXNzaW9uRXJyb3IgJiYgc2Vzc2lvblVzZXIpIHtcbiAgICAgICAgdXNlciA9IHNlc3Npb25Vc2VyO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ+eUqOaIt+acqueZu+W9lScgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGZvcm1EYXRhID0gYXdhaXQgcmVxdWVzdC5mb3JtRGF0YSgpO1xuICAgIFxuICAgIGNvbnN0IGNvbXBhbnlOYW1lID0gZm9ybURhdGEuZ2V0KCdjb21wYW55TmFtZScpIGFzIHN0cmluZztcbiAgICBjb25zdCBjb3VudHJ5ID0gZm9ybURhdGEuZ2V0KCdjb3VudHJ5JykgYXMgc3RyaW5nO1xuICAgIGNvbnN0IHByb3ZpbmNlID0gZm9ybURhdGEuZ2V0KCdwcm92aW5jZScpIGFzIHN0cmluZztcbiAgICBjb25zdCBlY29ub21pY1pvbmUgPSBmb3JtRGF0YS5nZXQoJ2Vjb25vbWljWm9uZScpIGFzIHN0cmluZztcbiAgICBjb25zdCBsb2dvID0gZm9ybURhdGEuZ2V0KCdsb2dvJykgYXMgRmlsZTtcbiAgICBjb25zdCBjb21wYW55VHlwZSA9IGZvcm1EYXRhLmdldCgnY29tcGFueVR5cGUnKSBhcyBzdHJpbmc7XG4gICAgY29uc3QgYWRkcmVzcyA9IGZvcm1EYXRhLmdldCgnYWRkcmVzcycpIGFzIHN0cmluZztcbiAgICBjb25zdCBpbmR1c3RyeUNvZGUgPSBmb3JtRGF0YS5nZXQoJ2luZHVzdHJ5Q29kZScpIGFzIHN0cmluZztcbiAgICBjb25zdCBhbm51YWxPdXRwdXQgPSBmb3JtRGF0YS5nZXQoJ2FubnVhbE91dHB1dCcpIGFzIHN0cmluZztcbiAgICBjb25zdCBjb250YWN0UGVyc29uID0gZm9ybURhdGEuZ2V0KCdjb250YWN0UGVyc29uJykgYXMgc3RyaW5nO1xuICAgIGNvbnN0IGNvbnRhY3RQaG9uZSA9IGZvcm1EYXRhLmdldCgnY29udGFjdFBob25lJykgYXMgc3RyaW5nO1xuICAgIGNvbnN0IGNvbnRhY3RFbWFpbCA9IGZvcm1EYXRhLmdldCgnY29udGFjdEVtYWlsJykgYXMgc3RyaW5nO1xuXG4gICAgLy8g5Z+65pys6aqM6K+BXG4gICAgaWYgKCFjb21wYW55TmFtZSB8fCAhY291bnRyeSB8fCAhY29tcGFueVR5cGUgfHwgIWNvbnRhY3RQZXJzb24gfHwgIWNvbnRhY3RQaG9uZSB8fCAhY29udGFjdEVtYWlsKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICfor7floavlhpnlv4XloavlrZfmrrUnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyDmn6Xmib7lr7nlupTnmoTlm73lrrbjgIHnnIHku73jgIHlvIDlj5HljLpJRFxuICAgIGxldCBjb3VudHJ5SWQgPSBudWxsO1xuICAgIGxldCBwcm92aW5jZUlkID0gbnVsbDtcbiAgICBsZXQgZGV2ZWxvcG1lbnRab25lSWQgPSBudWxsO1xuXG4gICAgLy8g6I635Y+W5Zu95a62SURcbiAgICBpZiAoY291bnRyeSkge1xuICAgICAgY29uc3QgeyBkYXRhOiBjb3VudHJ5RGF0YSB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2FkbWluX2NvdW50cmllcycpXG4gICAgICAgIC5zZWxlY3QoJ2lkJylcbiAgICAgICAgLmVxKCdjb2RlJywgY291bnRyeSlcbiAgICAgICAgLnNpbmdsZSgpO1xuICAgICAgY291bnRyeUlkID0gY291bnRyeURhdGE/LmlkO1xuICAgIH1cblxuICAgIC8vIOiOt+WPluecgeS7vUlEXG4gICAgaWYgKHByb3ZpbmNlKSB7XG4gICAgICBjb25zdCB7IGRhdGE6IHByb3ZpbmNlRGF0YSB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2FkbWluX3Byb3ZpbmNlcycpXG4gICAgICAgIC5zZWxlY3QoJ2lkJylcbiAgICAgICAgLmVxKCdjb2RlJywgcHJvdmluY2UpXG4gICAgICAgIC5zaW5nbGUoKTtcbiAgICAgIHByb3ZpbmNlSWQgPSBwcm92aW5jZURhdGE/LmlkO1xuICAgIH1cblxuICAgIC8vIOiOt+WPluW8gOWPkeWMuklEXG4gICAgaWYgKGVjb25vbWljWm9uZSAmJiBlY29ub21pY1pvbmUgIT09ICdub25lJykge1xuICAgICAgY29uc3QgeyBkYXRhOiB6b25lRGF0YSB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2FkbWluX2RldmVsb3BtZW50X3pvbmVzJylcbiAgICAgICAgLnNlbGVjdCgnaWQnKVxuICAgICAgICAuZXEoJ2NvZGUnLCBlY29ub21pY1pvbmUpXG4gICAgICAgIC5zaW5nbGUoKTtcbiAgICAgIGRldmVsb3BtZW50Wm9uZUlkID0gem9uZURhdGE/LmlkO1xuICAgIH1cblxuICAgIC8vIOWHhuWkh+abtOaWsOaVsOaNrlxuICAgIGNvbnN0IHVwZGF0ZURhdGE6IGFueSA9IHtcbiAgICAgIG5hbWVfemg6IGNvbXBhbnlOYW1lLFxuICAgICAgY291bnRyeV9pZDogY291bnRyeUlkLFxuICAgICAgcHJvdmluY2VfaWQ6IHByb3ZpbmNlSWQsXG4gICAgICBkZXZlbG9wbWVudF96b25lX2lkOiBkZXZlbG9wbWVudFpvbmVJZCxcbiAgICAgIGNvbXBhbnlfdHlwZTogY29tcGFueVR5cGUsXG4gICAgICBhZGRyZXNzOiBhZGRyZXNzIHx8IG51bGwsXG4gICAgICBpbmR1c3RyeV9jb2RlOiBpbmR1c3RyeUNvZGUgfHwgbnVsbCxcbiAgICAgIGFubnVhbF9vdXRwdXRfdmFsdWU6IGFubnVhbE91dHB1dCA/IHBhcnNlRmxvYXQoYW5udWFsT3V0cHV0KSA6IG51bGwsXG4gICAgICBjb250YWN0X3BlcnNvbjogY29udGFjdFBlcnNvbixcbiAgICAgIGNvbnRhY3RfcGhvbmU6IGNvbnRhY3RQaG9uZSxcbiAgICAgIGNvbnRhY3RfZW1haWw6IGNvbnRhY3RFbWFpbFxuICAgIH07XG5cbiAgICAvLyDlpITnkIZsb2dv5paH5Lu25LiK5LygXG4gICAgaWYgKGxvZ28gJiYgbG9nby5zaXplID4gMCkge1xuICAgICAgY29uc3QgbG9nb1VybCA9IGBodHRwczovL2V4YW1wbGUuY29tL2xvZ29zLyR7RGF0ZS5ub3coKX0tJHtsb2dvLm5hbWV9YDtcbiAgICAgIHVwZGF0ZURhdGEubG9nb191cmwgPSBsb2dvVXJsO1xuICAgIH1cblxuICAgIC8vIOafpeaJvueUqOaIt+eahOS8geS4muS/oeaBr1xuICAgIGNvbnN0IHsgZGF0YTogdXNlckNvbXBhbnkgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnYWRtaW5fY29tcGFuaWVzJylcbiAgICAgIC5zZWxlY3QoJ2lkJylcbiAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXIuaWQpXG4gICAgICAuZXEoJ2lzX2FjdGl2ZScsIHRydWUpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoIXVzZXJDb21wYW55KSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICfmnKrmib7liLDlj6/mm7TmlrDnmoTkvIHkuJrkv6Hmga8nIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDQgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGRhdGE6IGNvbXBhbnlEYXRhLCBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnYWRtaW5fY29tcGFuaWVzJylcbiAgICAgIC51cGRhdGUodXBkYXRlRGF0YSlcbiAgICAgIC5lcSgnaWQnLCB1c2VyQ29tcGFueS5pZClcbiAgICAgIC5zZWxlY3QoYFxuICAgICAgICAqLFxuICAgICAgICBjb3VudHJ5OmFkbWluX2NvdW50cmllcygqKSxcbiAgICAgICAgcHJvdmluY2U6YWRtaW5fcHJvdmluY2VzKCopLFxuICAgICAgICBkZXZlbG9wbWVudF96b25lOmFkbWluX2RldmVsb3BtZW50X3pvbmVzKCopXG4gICAgICBgKVxuICAgICAgLnNpbmdsZSgpO1xuXG4gICAgaWYgKHVwZGF0ZUVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfmm7TmlrDkvIHkuJrkv6Hmga/lpLHotKU6JywgdXBkYXRlRXJyb3IpO1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAn5pu05paw5LyB5Lia5L+h5oGv5aSx6LSlOiAnICsgdXBkYXRlRXJyb3IubWVzc2FnZSB9LFxuICAgICAgICB7IHN0YXR1czogNTAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc29sZS5sb2coJ+S8geS4muS/oeaBr+abtOaWsOaIkOWKnzonLCBjb21wYW55RGF0YSk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6ICfkvIHkuJrkv6Hmga/mm7TmlrDmiJDlip8nLFxuICAgICAgZGF0YTogY29tcGFueURhdGFcbiAgICB9KTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+S8geS4muS/oeaBr+abtOaWsOmUmeivrzonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ+acjeWKoeWZqOWGhemDqOmUmeivr++8jOivt+eojeWQjumHjeivlScgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIC8vIOiOt+WPluiupOivgXRva2VuXG4gICAgY29uc3QgYXV0aEhlYWRlciA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ0F1dGhvcml6YXRpb24nKTtcbiAgICBsZXQgdG9rZW4gPSBudWxsO1xuICAgIFxuICAgIGlmIChhdXRoSGVhZGVyPy5zdGFydHNXaXRoKCdCZWFyZXIgJykpIHtcbiAgICAgIHRva2VuID0gYXV0aEhlYWRlci5zdWJzdHJpbmcoNyk7XG4gICAgfVxuXG4gICAgLy8g5aaC5p6c5pyJdG9rZW7vvIzkvb/nlKh0b2tlbumqjOivgeeUqOaIt+i6q+S7vVxuICAgIGxldCB1c2VyID0gbnVsbDtcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIGNvbnN0IHsgZGF0YTogeyB1c2VyOiB0b2tlblVzZXIgfSwgZXJyb3I6IHRva2VuRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcih0b2tlbik7XG4gICAgICBpZiAoIXRva2VuRXJyb3IgJiYgdG9rZW5Vc2VyKSB7XG4gICAgICAgIHVzZXIgPSB0b2tlblVzZXI7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIOWmguaenHRva2Vu6aqM6K+B5aSx6LSl77yM5bCd6K+V5LuOc2Vzc2lvbuiOt+WPllxuICAgIGlmICghdXNlcikge1xuICAgICAgY29uc3QgeyBkYXRhOiB7IHVzZXI6IHNlc3Npb25Vc2VyIH0sIGVycm9yOiBzZXNzaW9uRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuICAgICAgaWYgKCFzZXNzaW9uRXJyb3IgJiYgc2Vzc2lvblVzZXIpIHtcbiAgICAgICAgdXNlciA9IHNlc3Npb25Vc2VyO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ+eUqOaIt+acqueZu+W9lScgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIOiOt+WPlueUqOaIt+eahOS8geS4muS/oeaBr1xuICAgIGNvbnN0IHsgZGF0YTogY29tcGFueURhdGEsIGVycm9yOiBzZWxlY3RFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdhZG1pbl9jb21wYW5pZXMnKVxuICAgICAgLnNlbGVjdChgXG4gICAgICAgICosXG4gICAgICAgIGNvdW50cnk6YWRtaW5fY291bnRyaWVzKCopLFxuICAgICAgICBwcm92aW5jZTphZG1pbl9wcm92aW5jZXMoKiksXG4gICAgICAgIGRldmVsb3BtZW50X3pvbmU6YWRtaW5fZGV2ZWxvcG1lbnRfem9uZXMoKilcbiAgICAgIGApXG4gICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VyLmlkKVxuICAgICAgLmVxKCdpc19hY3RpdmUnLCB0cnVlKVxuICAgICAgLnNpbmdsZSgpO1xuXG4gICAgaWYgKHNlbGVjdEVycm9yICYmIHNlbGVjdEVycm9yLmNvZGUgIT09ICdQR1JTVDExNicpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+iOt+WPluS8geS4muS/oeaBr+Wksei0pTonLCBzZWxlY3RFcnJvcik7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICfojrflj5bkvIHkuJrkv6Hmga/lpLHotKUnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IGNvbXBhbnlEYXRhIHx8IG51bGxcbiAgICB9KTtcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+iOt+WPluS8geS4muS/oeaBr+mUmeivrzonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ+acjeWKoeWZqOWGhemDqOmUmeivr++8jOivt+eojeWQjumHjeivlScgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwic3VwYWJhc2UiLCJQT1NUIiwicmVxdWVzdCIsImF1dGhIZWFkZXIiLCJoZWFkZXJzIiwiZ2V0IiwidG9rZW4iLCJzdGFydHNXaXRoIiwic3Vic3RyaW5nIiwidXNlciIsImRhdGEiLCJ0b2tlblVzZXIiLCJlcnJvciIsInRva2VuRXJyb3IiLCJhdXRoIiwiZ2V0VXNlciIsInNlc3Npb25Vc2VyIiwic2Vzc2lvbkVycm9yIiwianNvbiIsInN0YXR1cyIsImZvcm1EYXRhIiwicmVxdWlyZW1lbnQiLCJjb21wYW55TmFtZSIsImNvdW50cnkiLCJwcm92aW5jZSIsImVjb25vbWljWm9uZSIsImxvZ28iLCJjb21wYW55VHlwZSIsImFkZHJlc3MiLCJpbmR1c3RyeUNvZGUiLCJhbm51YWxPdXRwdXQiLCJjb250YWN0UGVyc29uIiwiY29udGFjdFBob25lIiwiY29udGFjdEVtYWlsIiwibG9nb1VybCIsIkRhdGUiLCJub3ciLCJuYW1lIiwiY291bnRyeUlkIiwicHJvdmluY2VJZCIsImRldmVsb3BtZW50Wm9uZUlkIiwiY291bnRyeURhdGEiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJzaW5nbGUiLCJpZCIsInByb3ZpbmNlRGF0YSIsInpvbmVEYXRhIiwiaW5zZXJ0RGF0YSIsInVzZXJfaWQiLCJuYW1lX3poIiwiY291bnRyeV9pZCIsInByb3ZpbmNlX2lkIiwiZGV2ZWxvcG1lbnRfem9uZV9pZCIsImNvbXBhbnlfdHlwZSIsImluZHVzdHJ5X2NvZGUiLCJhbm51YWxfb3V0cHV0X3ZhbHVlIiwicGFyc2VGbG9hdCIsImNvbnRhY3RfcGVyc29uIiwiY29udGFjdF9waG9uZSIsImNvbnRhY3RfZW1haWwiLCJsb2dvX3VybCIsImlzX2FjdGl2ZSIsImNvbXBhbnlEYXRhIiwiaW5zZXJ0RXJyb3IiLCJpbnNlcnQiLCJjb25zb2xlIiwibWVzc2FnZSIsImxvZyIsInN1Y2Nlc3MiLCJQVVQiLCJ1cGRhdGVEYXRhIiwic2l6ZSIsInVzZXJDb21wYW55IiwidXBkYXRlRXJyb3IiLCJ1cGRhdGUiLCJHRVQiLCJzZWxlY3RFcnJvciIsImNvZGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/company/profile/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase.ts":
/*!*****************************!*\
  !*** ./src/lib/supabase.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   supabaseAdmin: () => (/* binding */ supabaseAdmin)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\n// Supabase 配置\nconst supabaseUrl = \"https://qpeanozckghazlzzhrni.supabase.co\" || 0;\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFwZWFub3pja2doYXpsenpocm5pIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyODU4NTAsImV4cCI6MjA2OTg2MTg1MH0.LaJALEd_KP6LLaKEjRo7zuwjCA6Bbt_2QpSWPmbyw1I\" || 0;\nconst supabaseServiceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY || \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFwZWFub3pja2doYXpsenpocm5pIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1NDI4NTg1MCwiZXhwIjoyMDY5ODYxODUwfQ.wE2j1kNbMKkQgZSkzLR7z6WFft6v90VfWkSd5SBi2P8\";\n// 验证必要的配置\nif (!supabaseUrl) {\n    console.error(\"NEXT_PUBLIC_SUPABASE_URL is missing, using fallback URL\");\n}\nif (!supabaseAnonKey) {\n    console.error(\"NEXT_PUBLIC_SUPABASE_ANON_KEY is missing, using fallback key\");\n}\n// 创建 Supabase 客户端\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey, {\n    auth: {\n        autoRefreshToken: true,\n        persistSession: true,\n        detectSessionInUrl: true\n    }\n});\n// 创建管理员客户端（用于服务端操作）\nconst supabaseAdmin = supabaseServiceRoleKey ? (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseServiceRoleKey, {\n    auth: {\n        autoRefreshToken: false,\n        persistSession: false\n    }\n}) : null;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3N1cGFiYXNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFvRDtBQUVwRCxjQUFjO0FBQ2QsTUFBTUMsY0FBY0MsMENBQW9DLElBQUk7QUFDNUQsTUFBTUcsa0JBQWtCSCxrTkFBeUMsSUFBSTtBQUNyRSxNQUFNSyx5QkFBeUJMLFFBQVFDLEdBQUcsQ0FBQ0sseUJBQXlCLElBQUk7QUFFeEUsVUFBVTtBQUNWLElBQUksQ0FBQ1AsYUFBYTtJQUNoQlEsUUFBUUMsS0FBSyxDQUFDO0FBQ2hCO0FBQ0EsSUFBSSxDQUFDTCxpQkFBaUI7SUFDcEJJLFFBQVFDLEtBQUssQ0FBQztBQUNoQjtBQUVBLGtCQUFrQjtBQUNYLE1BQU1DLFdBQVdYLG1FQUFZQSxDQUFDQyxhQUFhSSxpQkFBaUI7SUFDakVPLE1BQU07UUFDSkMsa0JBQWtCO1FBQ2xCQyxnQkFBZ0I7UUFDaEJDLG9CQUFvQjtJQUN0QjtBQUNGLEdBQUU7QUFFRixvQkFBb0I7QUFDYixNQUFNQyxnQkFBZ0JULHlCQUN6QlAsbUVBQVlBLENBQUNDLGFBQWFNLHdCQUF3QjtJQUNoREssTUFBTTtRQUNKQyxrQkFBa0I7UUFDbEJDLGdCQUFnQjtJQUNsQjtBQUNGLEtBQ0EsS0FBSSIsInNvdXJjZXMiOlsid2VicGFjazovL2dyZWVuLXRlY2gtcGxhdGZvcm0vLi9zcmMvbGliL3N1cGFiYXNlLnRzPzA2ZTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJ1xuXG4vLyBTdXBhYmFzZSDphY3nva5cbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIHx8ICdodHRwczovL3FwZWFub3pja2doYXpsenpocm5pLnN1cGFiYXNlLmNvJ1xuY29uc3Qgc3VwYWJhc2VBbm9uS2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkgfHwgJ2V5SmhiR2NpT2lKSVV6STFOaUlzSW5SNWNDSTZJa3BYVkNKOS5leUpwYzNNaU9pSnpkWEJoWW1GelpTSXNJbkpsWmlJNkluRndaV0Z1YjNwamEyZG9ZWHBzZW5wb2NtNXBJaXdpY205c1pTSTZJbUZ1YjI0aUxDSnBZWFFpT2pFM05UUXlPRFU0TlRBc0ltVjRjQ0k2TWpBMk9UZzJNVGcxTUgwLkxhSkFMRWRfS1A2TExhS0VqUm83enV3akNBNkJidF8yUXBTV1BtYnl3MUknXG5jb25zdCBzdXBhYmFzZVNlcnZpY2VSb2xlS2V5ID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSB8fCAnZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnBjM01pT2lKemRYQmhZbUZ6WlNJc0luSmxaaUk2SW5Gd1pXRnViM3BqYTJkb1lYcHNlbnBvY201cElpd2ljbTlzWlNJNkluTmxjblpwWTJWZmNtOXNaU0lzSW1saGRDSTZNVGMxTkRJNE5UZzFNQ3dpWlhod0lqb3lNRFk1T0RZeE9EVXdmUS53RTJqMWtOYk1La1FnWlNrekxSN3o2V0ZmdDZ2OTBWZldrU2Q1U0JpMlA4J1xuXG4vLyDpqozor4Hlv4XopoHnmoTphY3nva5cbmlmICghc3VwYWJhc2VVcmwpIHtcbiAgY29uc29sZS5lcnJvcignTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIGlzIG1pc3NpbmcsIHVzaW5nIGZhbGxiYWNrIFVSTCcpXG59XG5pZiAoIXN1cGFiYXNlQW5vbktleSkge1xuICBjb25zb2xlLmVycm9yKCdORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSBpcyBtaXNzaW5nLCB1c2luZyBmYWxsYmFjayBrZXknKVxufVxuXG4vLyDliJvlu7ogU3VwYWJhc2Ug5a6i5oi356uvXG5leHBvcnQgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlQW5vbktleSwge1xuICBhdXRoOiB7XG4gICAgYXV0b1JlZnJlc2hUb2tlbjogdHJ1ZSxcbiAgICBwZXJzaXN0U2Vzc2lvbjogdHJ1ZSxcbiAgICBkZXRlY3RTZXNzaW9uSW5Vcmw6IHRydWVcbiAgfVxufSlcblxuLy8g5Yib5bu6566h55CG5ZGY5a6i5oi356uv77yI55So5LqO5pyN5Yqh56uv5pON5L2c77yJXG5leHBvcnQgY29uc3Qgc3VwYWJhc2VBZG1pbiA9IHN1cGFiYXNlU2VydmljZVJvbGVLZXkgXG4gID8gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZVNlcnZpY2VSb2xlS2V5LCB7XG4gICAgICBhdXRoOiB7XG4gICAgICAgIGF1dG9SZWZyZXNoVG9rZW46IGZhbHNlLFxuICAgICAgICBwZXJzaXN0U2Vzc2lvbjogZmFsc2VcbiAgICAgIH1cbiAgICB9KVxuICA6IG51bGxcblxuLy8g57G75Z6L5a6a5LmJXG5leHBvcnQgaW50ZXJmYWNlIFN1cGFiYXNlVXNlciB7XG4gIGlkOiBzdHJpbmdcbiAgZW1haWw/OiBzdHJpbmdcbiAgcGhvbmU/OiBzdHJpbmdcbiAgbmFtZT86IHN0cmluZ1xuICBhdmF0YXI/OiBzdHJpbmdcbiAgcm9sZT86IHN0cmluZ1xuICBlbWFpbF92ZXJpZmllZD86IGJvb2xlYW5cbiAgcGhvbmVfdmVyaWZpZWQ/OiBib29sZWFuXG4gIGNyZWF0ZWRfYXQ/OiBzdHJpbmdcbiAgdXBkYXRlZF9hdD86IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN1cGFiYXNlQXV0aFJlc3BvbnNlIHtcbiAgdXNlcjogU3VwYWJhc2VVc2VyIHwgbnVsbFxuICBzZXNzaW9uOiBhbnkgfCBudWxsXG4gIGVycm9yOiBhbnkgfCBudWxsXG59Il0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInN1cGFiYXNlQW5vbktleSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwic3VwYWJhc2VTZXJ2aWNlUm9sZUtleSIsIlNVUEFCQVNFX1NFUlZJQ0VfUk9MRV9LRVkiLCJjb25zb2xlIiwiZXJyb3IiLCJzdXBhYmFzZSIsImF1dGgiLCJhdXRvUmVmcmVzaFRva2VuIiwicGVyc2lzdFNlc3Npb24iLCJkZXRlY3RTZXNzaW9uSW5VcmwiLCJzdXBhYmFzZUFkbWluIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/ws","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions","vendor-chunks/isows"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcompany%2Fprofile%2Froute&page=%2Fapi%2Fcompany%2Fprofile%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcompany%2Fprofile%2Froute.ts&appDir=%2FUsers%2FDylan%2FDocuments%2Fai_coding%2Fpersonal-preview%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2FDylan%2FDocuments%2Fai_coding%2Fpersonal-preview&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();